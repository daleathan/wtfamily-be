<div class="container">
  <div class="row">
    <div class="col-md-4" style="overflow-y: scroll; height: 100%;">
      {{#if object_groups.isPending}}
        Loading groups...
      {{else}}
        {{#if object_groups }}
          <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
            {{#each object_groups.value}}
                <div class="panel panel-default">
                    <div class="panel-heading" role="tab"
                        id="heading-namegroup-{{index}}">
                      <h4 class="panel-title"
                        can-click="selectGroup"
                        data-toggle="collapse"
                        data-parent="#accordion"
                        data-target="#collapse-namegroup-{{index}}"
                        aria-expanded="false"
                        aria-controls="collapse-namegroup-{{index}}">
                      {{name}} ({{count}})
                    </h4>
                  </div>
                  <div id="collapse-namegroup-{{index}}"
                      class="panel-collapse collapse" role="tabpanel"
                      aria-labelledby="heading-namegroup-{{index}}">
                    {{#if object_list.isPending}}
                      Loading items...
                    {{else}}
                      {{#if object_list }}
                        <div class="list-group">
                          {{#each object_list.value}}
                            <button type="button" can-click="selectObject"
                                class="list-group-item" title="{{ id }}">{{ first_and_last_names }} ({{ birth }})</button>
                          {{/object_list}}
                        </div>
                      {{else}}
                        Nothing to show.
                      {{/if}}
                    {{/if}}
                  </div>
                </div>
            {{/object_groups}}
          </div>
        {{else}}
          No name groups to show.
        {{/if}}
      {{/if}}
    </div>
    <div class="col-md-8">
      {{#if selectedObject.isPending }}
        Loading object...
      {{else}}
        {{#with selectedObject}}

          <h2>{{ name }}</h2>

          <p>{{ birth }} — {{ death }}</p>

          <p>{{ gender }}</p>

          <dl class="dl-horizontal">
            <dt>Варианты имен</dt>
            {{#names}}
              <dd>{{.}}</dd>
            {{/names}}
            {{#if attributes}}
              <dt>Attributes</dt>
              <dd>{{attributes.toSource}}</dd>
              <!--
              {{#attributes}}
                <dd>{{.}}</dd>
              {{/attributes}}
              -->
            {{/if}}
          </dl>

          <h3>Events</h3>

          {{ event_ids.toSource }}

          <h3>TODO</h3>

          <p>Notes: {{ note_ids.toSource }}</p>
          <p>Citations: {{ citation_ids.toSource }}</p>
          <p>Parents' families: {{ child_in_families.toSource }}</p>
          <p>Parent in families: {{ parent_in_families.toSource }}</p>

        {{/with}}
      {{/if}}

    </div>
  </div>
</div>
